<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GETXH Dashboard</title>

<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet"
href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI',
               Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
}

/* BRAND BADGE */
.brand-badge {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 999px;
  background: linear-gradient(120deg, #0e1a33, #121c33, #0e1a33);
  box-shadow: 0 0 12px rgba(56,189,248,0.25);
  animation: glowPulse 3s ease-in-out infinite;
}

.brand-icon {
  font-size: 18px;
  color: #38bdf8;
}

.brand-text {
  font-weight: 700;
  letter-spacing: 1px;
}

.brand-text .dot {
  color: #38bdf8;
}

/* BRAND GLOW ANIMATION */
@keyframes glowPulse {
  0% {
    box-shadow: 0 0 8px rgba(56,189,248,0.2);
  }
  50% {
    box-shadow: 0 0 18px rgba(56,189,248,0.6);
  }
  100% {
    box-shadow: 0 0 8px rgba(56,189,248,0.2);
  }
}

/* ACCOUNT POPUP ANIMATION */
@keyframes slideUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slideUp {
  animation: slideUp 0.35s ease-out;
}
</style>
</head>

<body class="bg-[#0b1220] text-white">

<!-- MOBILE TOP HEADER -->
<div class="flex justify-between items-center px-4 py-3 bg-[#0b1220] sticky top-0 z-50 lg:hidden">
    <button onclick="openMenu()">
        <span class="material-symbols-outlined text-2xl">menu</span>
    </button>
<div class="brand-badge">
  <span class="material-symbols-outlined brand-icon">
    verified_user
  </span>
  <span class="brand-text">
    GETXH<span class="dot">.IN</span>
  </span>
</div>
    <a href="wallet.html" class="flex items-center gap-1 bg-[#1e2a4a] px-3 py-1 rounded-full text-sm">
        <span class="material-symbols-outlined text-base">account_balance_wallet</span>
        <span id="walletBalanceTop">â‚¹0</span>
    </a>
</div>

<!-- MAIN CONTENT -->
<main class="max-w-7xl mx-auto px-4 py-8 pb-24">

    <div class="mb-8">
        <h2 class="text-2xl font-bold mb-1">
            Welcome,
            <span id="userName">User</span>
        </h2>
        <p class="text-gray-400 text-sm">Account overview</p>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8">

        <div class="bg-[#121c33] rounded-xl p-5 flex items-center gap-4">
            <span class="material-symbols-outlined text-blue-400 text-3xl">
                account_balance_wallet
            </span>
            <div>
                <p class="text-gray-400 text-sm">Balance</p>
                <p id="userBalance" class="text-xl font-semibold">â‚¹0</p>
            </div>
        </div>

        <div class="bg-[#121c33] rounded-xl p-5 flex items-center gap-4">
            <span class="material-symbols-outlined text-green-400 text-3xl">
                shopping_cart
            </span>
            <div>
                <p class="text-gray-400 text-sm">Orders</p>
                <p id="userOrders" class="text-xl font-semibold">0</p>
            </div>
        </div>

    </div>

<button onclick="scrollToNewOrder()"
  class="block w-full text-center
         bg-gradient-to-r from-blue-500 to-cyan-400
         py-3 rounded-xl font-semibold">
  New Order
</button>
  <!-- ================= NEW ORDER SECTION ================= -->
<div id="newOrderSection"
     class="max-w-7xl mx-auto px-4 py-8 pb-24">

  <div class="mb-8">
    <h1 class="text-2xl font-bold text-white">
      Place New Order
    </h1>
    <p class="text-gray-400 text-sm mt-1">
      Select a category and service to continue.
    </p>
  </div>

  <!-- ðŸ‘‡ YAHAN FORM AAYEGA -->
   <div class="bg-white rounded-xl shadow-md p-6 sm:p-8 max-w-4xl mx-auto mb-8">
        <form id="orderForm">

            <div class="mb-6">
                <input type="text" id="searchService" placeholder="Search for a service..."
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"/>
            </div>

            <div class="mb-6">
                <label class="block text-gray-700 font-semibold mb-2">Category</label>
                <select id="categorySelect"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    <option value="">Select a category</option>
                    <option value="Instagram Followers">Instagram Followers</option>
                    <option value="Instagram Reel Views">Instagram Reel Views</option>
                    <option value="Instagram Likes">Instagram Likes</option>
                    <option value="Instagram Indian Likes">Instagram Indian Likes</option>
                </select>
            </div>

            <div class="mb-6">
                <label class="block text-gray-700 font-semibold mb-2">Service</label>
                <select id="serviceSelect"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                        disabled>
                    <option value="">Select a service</option>
                </select>
            </div>

            <div id="serviceDetails" class="hidden mb-6 p-4 bg-gray-50 border border-gray-200 rounded-lg">
                <h3 class="font-semibold text-gray-800 mb-3">Service Details</h3>
                <p id="serviceDescription" class="text-sm text-gray-700 mb-3"></p>
                <div class="flex flex-wrap gap-4 text-sm">
                    <div><span class="font-semibold">Cancel:</span> <span id="serviceCancel"></span></div>
                    <div><span class="font-semibold">Drop:</span> <span id="serviceDrop"></span></div>
                    <div><span class="font-semibold">Quality:</span> <span id="serviceQuality"></span></div>
                </div>
            </div>

            <div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                <h3 class="font-semibold text-gray-800 mb-2">Read before you order</h3>
                <ul class="text-sm text-gray-700 space-y-1">
                    <li>â€¢ Your account must be public.</li>
                    <li>â€¢ Sometimes there is change in start time and speed.</li>
                    <li>â€¢ Both post and reel links are accepted.</li>
                    <li>â€¢ Make sure the link is correct before placing the order.</li>
                </ul>
            </div>

            <div class="mb-6">
                <label class="block text-gray-700 font-semibold mb-2">Link</label>
                <input type="text" id="linkInput" placeholder="Paste your link here"
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"/>
            </div>

            <div class="mb-6">
                <label class="block text-gray-700 font-semibold mb-2">Quantity</label>
                <p id="minMaxText" class="text-sm text-gray-500 mb-2">Min: 0 â€“ Max: 0</p>
                <input type="number" id="quantityInput" placeholder="Enter quantity"
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"/>
                <p id="quantityError" class="hidden text-sm text-red-600 mt-2">
                    Quantity must be between Min and Max
                </p>
            </div>

            <div class="mb-6 p-4 bg-gray-50 rounded-lg flex justify-between items-center border border-gray-200">
                <span class="font-semibold text-gray-800">Total Price</span>
                <span id="totalPrice" class="text-2xl font-bold text-blue-600">â‚¹0.00</span>
            </div>

            <button id="placeOrderBtn" type="submit"
                    class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 rounded-lg transition disabled:bg-gray-300 disabled:cursor-not-allowed"
                    disabled>
                Place Order
            </button>

        </form>
    </div>
 
<!-- ================= END NEW ORDER ================= -->
</main>

<!-- BOTTOM NAV -->
<div class="fixed bottom-0 left-0 right-0 bg-[#0e1629] border-t border-[#1e2a4a] z-50 lg:hidden">
  <div class="flex justify-around items-center py-2 text-xs">

    <a href="Dashboard.html" class="flex flex-col items-center text-blue-400">
      <span class="material-symbols-outlined">dashboard</span>
      <span>Menu</span>
    </a>

    <a href="Totalorder.html" class="flex flex-col items-center text-gray-400">
      <span class="material-symbols-outlined">list_alt</span>
      <span>Orders</span>
    </a>

<button onclick="scrollToNewOrder()"
  class="bg-blue-500 text-white w-12 h-12
         flex items-center justify-center
         rounded-full -mt-6">
  <span class="material-symbols-outlined">add</span>
</button>
    <a href="Support.html" class="flex flex-col items-center text-gray-400">
      <span class="material-symbols-outlined">support_agent</span>
      <span>Support</span>
    </a>

    <button onclick="openAccountPopup()" class="flex flex-col items-center text-gray-400">
      <span class="material-symbols-outlined">person</span>
      <span>Account</span>
    </button>

  </div>
</div>

<!-- SIDE MENU -->
<div id="menuOverlay" class="fixed inset-0 bg-black/60 hidden z-40" onclick="closeMenu()"></div>

<div id="sideMenu"
class="fixed top-0 left-0 h-full w-72 bg-[#0e1629] z-50
transform -translate-x-full transition-transform duration-300">

  <div class="p-4 space-y-1">

    <a href="Dashboard.html" class="flex items-center gap-4 px-4 py-3 rounded-lg hover:bg-white/5">
      <span class="material-symbols-outlined text-blue-400">dashboard</span>
      Dashboard
    </a>

    <a href="wallet.html" class="flex items-center gap-4 px-4 py-3 rounded-lg hover:bg-white/5">
      <span class="material-symbols-outlined text-cyan-400">account_balance_wallet</span>
      Wallet
    </a>

<button onclick="scrollToNewOrder()"
  class="flex items-center gap-4
         px-4 py-3 rounded-lg
         hover:bg-white/5 w-full text-left">
  <span class="material-symbols-outlined text-green-400">
    add_shopping_cart
  </span>
  New Order
</button>

    <a href="Totalorder.html" class="flex items-center gap-4 px-4 py-3 rounded-lg hover:bg-white/5">
      <span class="material-symbols-outlined text-yellow-400">list_alt</span>
      Orders
    </a>

    <a href="Support.html" class="flex items-center gap-4 px-4 py-3 rounded-lg hover:bg-white/5">
      <span class="material-symbols-outlined text-purple-400">support_agent</span>
      Support
    </a>

    <button onclick="openAccountPopup()"
      class="flex items-center gap-4 px-4 py-3 rounded-lg hover:bg-white/5 w-full text-left">
      <span class="material-symbols-outlined text-gray-400">person</span>
      Account
    </button>

  </div>
</div>

<!-- ACCOUNT POPUP -->
<div id="accountPopup"
     class="fixed inset-0 bg-black/60 hidden z-50 flex items-end justify-center">

  <div
    class="w-full max-w-md mx-auto
           bg-[#0f1a30]
           rounded-t-3xl
           px-5 pt-5 pb-6
           animate-slideUp">

    <!-- USER CARD -->
    <div class="bg-[#121c33] rounded-2xl p-4 mb-4 shadow-inner">

      <p id="popupUsername"
         class="text-lg font-semibold text-white">
        User
      </p>

      <p id="popupEmail"
         class="text-xs text-gray-400 mt-1">
        email@example.com
      </p>

    </div>

    <!-- ACTIONS -->
    <div class="space-y-3">

      <!-- My Account -->
      <a href="account.html"
         class="block text-center
                bg-gradient-to-r from-blue-500 to-cyan-400
                py-3 rounded-xl
                font-semibold text-white
                shadow-md
                active:scale-[0.98]
                transition">
        My Account
      </a>

      <!-- Logout -->
      <button onclick="logout()"
        class="w-full flex items-center justify-center gap-2
               py-3 rounded-xl
               bg-red-500/10 text-red-400
               font-medium
               active:scale-[0.98]
               transition">
        <span class="material-symbols-outlined">logout</span>
        Logout
      </button>

    </div>

  </div>
</div>

<script>

function openMenu() {
  document.getElementById("sideMenu").classList.remove("-translate-x-full");
  document.getElementById("menuOverlay").classList.remove("hidden");
}

function closeMenu() {
  document.getElementById("sideMenu").classList.add("-translate-x-full");
  document.getElementById("menuOverlay").classList.add("hidden");
}

function openAccountPopup() {
  document.getElementById("accountPopup").classList.remove("hidden");
}

document.getElementById("accountPopup").addEventListener("click", function(e){
  if (e.target === this) this.classList.add("hidden");
});

/* ðŸ”¥ READ EXACT KEYS SAVED BY LOGIN PAGE */
let username = localStorage.getItem("getxh_user_name");

if (!username) {
  const emailTemp = localStorage.getItem("getxh_current_user");
  if (emailTemp) {
    username = emailTemp.split("@")[0];
  }
}
const email = localStorage.getItem("getxh_current_user");

if (username) {
  document.getElementById("userName").innerText = username;
  document.getElementById("popupUsername").innerText = username;
}

if (email) {
  document.getElementById("popupEmail").innerText = email;
}

/* LOGOUT */
function logout() {
  localStorage.clear();
  window.location.href = "index.html";
}
</script>
  <script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
import { 
    getFirestore, collection, addDoc, getDocs, query, orderBy, limit 
} from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyClO8clBVgSHKx8jarNwC38oMtWRK0W8KE",
  authDomain: "getxh-42588.firebaseapp.com",
  projectId: "getxh-42588",
  storageBucket: "getxh-42588.firebasestorage.app",
  messagingSenderId: "170770122888",
  appId: "1:170770122888:web:7adcf91077d5695b06b73d"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db   = getFirestore(app);

// ---------- LOGIN GUARD (via Firebase) ----------
let currentUid = null;

onAuthStateChanged(auth, async (user) => {
    if (!user) {
        // fallback: localStorage check same jaisa Dashboard me hai
        if (localStorage.getItem("getxh_user_logged_in") !== "yes") {
            window.location.href = "index.html";
            return;
        }
    } else {
        currentUid = user.uid;
    }

    // UID set ho chuka hoga, ab recent orders load karo
    loadRecentOrders();
});

// ---------- SERVICES DATA ----------
const servicesData = [
    {
        serviceId: "IF001",
        serviceName: "Instagram Followers â€“ Used by Influencers â€“ Same Day Delivery",
        category: "Instagram Followers",
        pricePer1000: 169.43,
        minQuantity: 100,
        maxQuantity: 1000000,
        description: "High quality followers with same day delivery",
        cancel: "No",
        drop: "Low",
        quality: "High"
    },
    {
        serviceId: "IF002",
        serviceName: "Instagram Followers â€“ Used by Influencers â€“ Same Day Delivery 2",
        category: "Instagram Followers",
        pricePer1000: 172.47,
        minQuantity: 100,
        maxQuantity: 1000000,
        description: "Premium followers with guaranteed delivery",
        cancel: "No",
        drop: "Low",
        quality: "High"
    },
    {
        serviceId: "IF003",
        serviceName: "Instagram Followers â€“ Used by Celebrities â€“ Same Day Delivery",
        category: "Instagram Followers",
        pricePer1000: 159.44,
        minQuantity: 100,
        maxQuantity: 1000000,
        description: "Celebrity-grade followers",
        cancel: "No",
        drop: "Very Low",
        quality: "Premium"
    },

    {
        serviceId: "IRV001",
        serviceName: "Instagram Reel Views â€“ Used by Influencers â€“ Real Views",
        category: "Instagram Reel Views",
        pricePer1000: 0.36,
        minQuantity: 100,
        maxQuantity: 2147483647,
        description: "Genuine views from real accounts",
        cancel: "Yes",
        drop: "No",
        quality: "Real"
    },
    {
        serviceId: "IRV002",
        serviceName: "Instagram Reel Views â€“ Used by Influencers â€“ Real Views 2",
        category: "Instagram Reel Views",
        pricePer1000: 0.54,
        minQuantity: 100,
        maxQuantity: 2147483647,
        description: "Fast real views delivery",
        cancel: "Yes",
        drop: "No",
        quality: "Real"
    },
    {
        serviceId: "IRV003",
        serviceName: "Instagram Reel Views â€“ Used by Celebrities â€“ From Explore Page",
        category: "Instagram Reel Views",
        pricePer1000: 0.72,
        minQuantity: 100,
        maxQuantity: 2147483647,
        description: "Views from explore page",
        cancel: "Yes",
        drop: "No",
        quality: "Premium"
    },
    {
        serviceId: "IRV004",
        serviceName: "Instagram Reel Views â€“ Used by Influencers â€“ Indian Real Views",
        category: "Instagram Reel Views",
        pricePer1000: 1.08,
        minQuantity: 100,
        maxQuantity: 2147483647,
        description: "Indian real views",
        cancel: "No",
        drop: "None",
        quality: "Indian Real"
    },

    {
        serviceId: "IL001",
        serviceName: "Instagram Likes â€“ Used by Influencers",
        category: "Instagram Likes",
        pricePer1000: 27.68,
        minQuantity: 10,
        maxQuantity: 1000000,
        description: "Quality likes from real accounts",
        cancel: "No",
        drop: "Low",
        quality: "High"
    },
    {
        serviceId: "IL002",
        serviceName: "Instagram Likes â€“ Used by Celebrities",
        category: "Instagram Likes",
        pricePer1000: 37.38,
        minQuantity: 10,
        maxQuantity: 1000000,
        description: "Premium likes for celebrity accounts",
        cancel: "Yes",
        drop: "Very Low",
        quality: "Premium"
    },

    {
        serviceId: "IIL001",
        serviceName: "Instagram Indian Likes â€“ Used by Influencers",
        category: "Instagram Indian Likes",
        pricePer1000: 44.27,
        minQuantity: 10,
        maxQuantity: 1000000,
        description: "Indian likes from real Indian accounts",
        cancel: "No",
        drop: "Low",
        quality: "Indian High"
    },
    {
        serviceId: "IIL002",
        serviceName: "Instagram Indian Likes â€“ Used by Celebrities",
        category: "Instagram Indian Likes",
        pricePer1000: 53.01,
        minQuantity: 10,
        maxQuantity: 1000000,
        description: "Premium Indian likes for celebrities",
        cancel: "No",
        drop: "Very Low",
        quality: "Indian Premium"
    }
];

// DOM selection ----------

const searchService      = document.getElementById("searchService");
const categorySelect     = document.getElementById("categorySelect");
const serviceSelect      = document.getElementById("serviceSelect");

const serviceDetails     = document.getElementById("serviceDetails");
const serviceDescription = document.getElementById("serviceDescription");
const serviceCancel      = document.getElementById("serviceCancel");
const serviceDrop        = document.getElementById("serviceDrop");
const serviceQuality     = document.getElementById("serviceQuality");

const linkInput          = document.getElementById("linkInput");
const quantityInput      = document.getElementById("quantityInput");
const minMaxText         = document.getElementById("minMaxText");
const quantityError      = document.getElementById("quantityError");

const totalPrice         = document.getElementById("totalPrice");
const placeOrderBtn      = document.getElementById("placeOrderBtn");
const recentOrdersContainer = document.getElementById("recentOrdersContainer");

const successModal       = document.getElementById("successModal");
const closeModalBtn      = document.getElementById("closeModalBtn");
const viewOrdersBtn      = document.getElementById("viewOrdersBtn");

let selectedService = null;

// ---------- Mobile Menu Toggle ----------


// ---------- Update Service Dropdown ----------
function updateServiceSelect() {
    const category = categorySelect.value;
    const searchTerm = searchService.value.toLowerCase();

    serviceSelect.innerHTML = `<option value="">Select a service</option>`;

    if (!category) {
        serviceSelect.disabled = true;
        return;
    }

    const filtered = servicesData.filter(s =>
        s.category === category &&
        s.serviceName.toLowerCase().includes(searchTerm)
    );

    filtered.forEach(service => {
        const option = document.createElement("option");
        option.value = service.serviceId;
        option.textContent = `${service.serviceName} â€“ â‚¹${service.pricePer1000.toFixed(2)} per 1000`;
        serviceSelect.appendChild(option);
    });

    serviceSelect.disabled = filtered.length === 0;
}

// Search listener
searchService.addEventListener("input", updateServiceSelect);

// Category change listener
categorySelect.addEventListener("change", () => {
    updateServiceSelect();
    resetServiceSelection();
});

// ---------- When a service is selected ----------
serviceSelect.addEventListener("change", () => {
    const id = serviceSelect.value;
    selectedService = servicesData.find(s => s.serviceId === id);

    if (!selectedService) return;

    serviceDetails.classList.remove("hidden");
    serviceDescription.textContent = selectedService.description;
    serviceCancel.textContent = selectedService.cancel;
    serviceDrop.textContent = selectedService.drop;
    serviceQuality.textContent = selectedService.quality;

    minMaxText.textContent = `Min: ${selectedService.minQuantity} â€“ Max: ${selectedService.maxQuantity}`;

    quantityInput.value = "";
    totalPrice.textContent = "â‚¹0.00";
});

// ---------- Quantity Calculation ----------
quantityInput.addEventListener("input", () => {
    if (!selectedService) return;

    let qty = parseInt(quantityInput.value);

    if (!qty || qty < selectedService.minQuantity || qty > selectedService.maxQuantity) {
        quantityError.classList.remove("hidden");
        totalPrice.textContent = "â‚¹0.00";
        placeOrderBtn.disabled = true;
        return;
    }

    quantityError.classList.add("hidden");

    const final = (qty / 1000) * selectedService.pricePer1000;
    totalPrice.textContent = `â‚¹${final.toFixed(2)}`;

    placeOrderBtn.disabled = false;
});

// ---------- Reset service details ----------
function resetServiceSelection() {
    selectedService = null;
    serviceDetails.classList.add("hidden");
    quantityInput.value = "";
    minMaxText.textContent = "Min: 0 â€“ Max: 0";
    totalPrice.textContent = "â‚¹0.00";
    placeOrderBtn.disabled = true;
}

// ---------- Save Order to FIRESTORE ----------
async function saveOrderToFirestore(service, qty, link, price) {
    if (!currentUid) {
        alert("User not logged in. Please login again.");
        return;
    }

    const ordersCol = collection(db, "orders", currentUid, "user_orders");

    const now = new Date();

    const data = {
        serviceId: service.serviceId,
        serviceName: service.serviceName,
        category: service.category,
        quantity: qty,
        link: link,
        price: parseFloat(price),
        status: "Processing",
        createdAt: now.toISOString(),
        createdAtReadable: now.toLocaleString()
    };

    await addDoc(ordersCol, data);
}

// ---------- Place Order ----------
placeOrderBtn.addEventListener("click", async (e) => {
    e.preventDefault();
    if (!selectedService) return;

    const qty = parseInt(quantityInput.value);
    const link = linkInput.value.trim();
    const price = totalPrice.textContent.replace("â‚¹", "");

    if (!qty || !link) return;

    await saveOrderToFirestore(selectedService, qty, link, price);

    // Form clear
    linkInput.value = "";
    quantityInput.value = "";
    resetServiceSelection();
    totalPrice.textContent = "â‚¹0.00";

    // Modal show
    successModal.classList.remove("hidden");

    // Recent orders reload
    loadRecentOrders();
});

// Close modal
closeModalBtn.addEventListener("click", () => {
    successModal.classList.add("hidden");
});

// View Orders
viewOrdersBtn.addEventListener("click", () => {
    window.location.href = "Totalorder.html";
});

// ---------- Load Recent Orders from Firestore ----------
async function loadRecentOrders() {
    if (!currentUid) {
        // auth state not yet ready
        recentOrdersContainer.innerHTML =
            `<p class="text-gray-500 text-sm">Loading orders...</p>`;
        return;
    }

    const ordersCol = collection(db, "orders", currentUid, "user_orders");

    const q = query(
        ordersCol,
        orderBy("createdAt", "desc"),
        limit(3)
    );

    const snap = await getDocs(q);

    if (snap.empty) {
        recentOrdersContainer.innerHTML =
            `<p class="text-gray-500 text-sm">No recent orders found.</p>`;
        return;
    }

    recentOrdersContainer.innerHTML = "";

    snap.forEach((doc) => {
        const order = doc.data();

        const box = document.createElement("div");
        box.className = "p-4 bg-gray-50 border border-gray-200 rounded-lg mb-3";

        box.innerHTML = `
            <div class="font-semibold text-gray-800 text-sm">${order.serviceName || "-"}</div>
            <div class="text-xs text-gray-600">Qty: ${order.quantity || 0}</div>
            <div class="text-xs text-gray-600">â‚¹${(order.price || 0).toFixed ? order.price.toFixed(2) : order.price}</div>
            <div class="text-xs text-gray-500">${order.createdAtReadable || ""}</div>
        `;

        recentOrdersContainer.appendChild(box);
    });
}
  </script>

</body>
</html>
