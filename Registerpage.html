<!DOCTYPE html>
<html class="light" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>GETXH - Register</title>

<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>

<style>
.material-symbols-outlined { font-size: 20px; }
.form-input-container { position: relative; }
.form-input-container .material-symbols-outlined {
    position: absolute; left: 1rem; top: 50%;
    transform: translateY(-50%); color: #D1D5DB;
}
.form-input-container .form-input { padding-left: 3rem; }
</style>
</head>

<body class="font-display">

<div class="min-h-screen flex items-center justify-center bg-white px-4">

<div class="w-full max-w-md bg-white p-8 rounded-lg shadow-xl">

<h2 class="text-center text-3xl font-bold text-[#111827] mb-8">Create Account</h2>

<div id="errorBox" class="hidden mb-4 text-red-600 text-center font-medium"></div>

<!-- FULL NAME -->
<div class="mb-4">
<label class="text-sm font-medium text-gray-700 mb-1">Full Name</label>
<div class="form-input-container">
<input id="reg_name" class="form-input w-full h-12 border rounded-lg px-4" type="text" placeholder="Your Name"/>
<span class="material-symbols-outlined">person</span>
</div>
</div>

<!-- EMAIL -->
<div class="mb-4">
<label class="text-sm font-medium text-gray-700 mb-1">Email</label>
<div class="form-input-container">
<input id="reg_email" class="form-input w-full h-12 border rounded-lg px-4" type="email" placeholder="you@example.com"/>
<span class="material-symbols-outlined">mail</span>
</div>
</div>

<!-- PASSWORD -->
<div class="mb-4">
<label class="text-sm font-medium text-gray-700 mb-1">Password</label>
<div class="form-input-container">
<input id="reg_pass" class="form-input w-full h-12 border rounded-lg px-4" type="password" placeholder="Enter password"/>
<span class="material-symbols-outlined">lock</span>
</div>
</div>

<!-- CONFIRM PASSWORD -->
<div class="mb-6">
<label class="text-sm font-medium text-gray-700 mb-1">Confirm Password</label>
<div class="form-input-container">
<input id="reg_cpass" class="form-input w-full h-12 border rounded-lg px-4" type="password" placeholder="Confirm password"/>
<span class="material-symbols-outlined">lock</span>
</div>
</div>

<!-- BUTTON -->
<button id="registerBtn" class="w-full h-12 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold">
Create Account
</button>

<div class="text-center mt-6">
<a href="index.html" class="text-sm font-medium text-[#111827]">Already have an account?
<span class="text-blue-600 font-semibold">Sign In</span></a>
</div>

</div>
</div>

<script>
// Validate email format
function isValidEmail(email) {
    return /\S+@\S+\.\S+/.test(email);
}

document.getElementById("registerBtn").onclick = function () {

    let name = document.getElementById("reg_name").value.trim();
    let email = document.getElementById("reg_email").value.trim();
    let pass = document.getElementById("reg_pass").value.trim();
    let cpass = document.getElementById("reg_cpass").value.trim();
    let errorBox = document.getElementById("errorBox");

    // Validation
    if (name === "") {
        errorBox.textContent = "Full name is required";
        errorBox.classList.remove("hidden");
        return;
    }
    if (email === "") {
        errorBox.textContent = "Email is required";
        errorBox.classList.remove("hidden");
        return;
    }
    if (!isValidEmail(email)) {
        errorBox.textContent = "Enter a valid email";
        errorBox.classList.remove("hidden");
        return;
    }
    if (pass.length < 6) {
        errorBox.textContent = "Password must be at least 6 characters";
        errorBox.classList.remove("hidden");
        return;
    }
    if (pass !== cpass) {
        errorBox.textContent = "Passwords do not match";
        errorBox.classList.remove("hidden");
        return;
    }

    // Check duplicate email
    let savedUsers = JSON.parse(localStorage.getItem("getxh_users") || "[]");
    let exists = savedUsers.some(u => u.email === email);

    if (exists) {
        errorBox.textContent = "Email already registered";
        errorBox.classList.remove("hidden");
        return;
    }

    // Save user
    let newUser = {
        name: name,
        email: email,
        password: pass
    };

    savedUsers.push(newUser);
    localStorage.setItem("getxh_users", JSON.stringify(savedUsers));

    // Redirect
    window.location.href = "index.html";
};
</script>

</body>
</html>
